{"version":3,"sources":["../../src/plugins/LayerAnimateStylePlugin.ts"],"names":["LayerAnimateStylePlugin","TYPES","ICameraService","IRendererService","layer","hooks","beforeRender","tap","models","forEach","model","addUniforms","layerModel","getAnimateUniforms"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AAWA;;;;;;;;IAGqBA,uB,WADpB,4B,UAEE,uBAAOC,cAAMC,cAAb,C,UAGA,uBAAOD,cAAME,gBAAb,C;;;;;;;;;WAGD,eAAaC,KAAb,EAA4B;AAI1BA,MAAAA,KAAK,CAACC,KAAN,CAAYC,YAAZ,CAAyBC,GAAzB,CAA6B,yBAA7B,EAAwD,YAAM;AAE5DH,QAAAA,KAAK,CAACI,MAAN,CAAaC,OAAb,CAAqB,UAACC,KAAD,EAAmB;AACtCA,UAAAA,KAAK,CAACC,WAAN,mBACKP,KAAK,CAACQ,UAAN,CAAiBC,kBAAjB,EADL;AAGD,SAJD;AAKD,OAPD;AAQD","sourcesContent":["import {\n  CameraUniform,\n  CoordinateUniform,\n  ICameraService,\n  ICoordinateSystemService,\n  ILayer,\n  ILayerPlugin,\n  IModel,\n  IRendererService,\n  TYPES,\n} from '@antv/l7-core';\nimport { inject, injectable } from 'inversify';\n\n@injectable()\nexport default class LayerAnimateStylePlugin implements ILayerPlugin {\n  @inject(TYPES.ICameraService)\n  private readonly cameraService: ICameraService;\n\n  @inject(TYPES.IRendererService)\n  private readonly rendererService: IRendererService;\n\n  public apply(layer: ILayer) {\n    // layer.hooks.beforeRender.tap('LayerAnimateStylePlugin', () => {\n\n    // })\n    layer.hooks.beforeRender.tap('LayerAnimateStylePlugin', () => {\n      // 重新计算坐标系参数\n      layer.models.forEach((model: IModel) => {\n        model.addUniforms({\n          ...layer.layerModel.getAnimateUniforms(),\n        });\n      });\n    });\n  }\n}\n"],"file":"LayerAnimateStylePlugin.js"}