{"version":3,"sources":["../../../src/handler/mouse/mousepitch_hander.ts"],"names":["MouseHandler","LEFT_BUTTON","RIGHT_BUTTON","MousePitchHandler","e","button","ctrlKey","lastPoint","point","degreesPerPixelMoved","pitchDelta","y","active","preventDefault"],"mappings":";;;;;;;;;;AAEA,OAAOA,YAAP,MAAyB,iBAAzB;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,QAA1C;;IACqBC,iB;;;;;;;;;;;;;WACnB,uBAAqBC,CAArB,EAAoCC,MAApC,EAAoD;AAClD,aAAQA,MAAM,KAAKJ,WAAX,IAA0BG,CAAC,CAACE,OAA7B,IAAyCD,MAAM,KAAKH,YAA3D;AACD;;;WAED,cAAYK,SAAZ,EAA8BC,KAA9B,EAA4C;AAC1C,UAAMC,oBAAoB,GAAG,CAAC,GAA9B;AACA,UAAMC,UAAU,GAAG,CAACF,KAAK,CAACG,CAAN,GAAUJ,SAAS,CAACI,CAArB,IAA0BF,oBAA7C;;AACA,UAAIC,UAAJ,EAAgB;AACd,aAAKE,MAAL,GAAc,IAAd;AACA,eAAO;AAAEF,UAAAA,UAAU,EAAVA;AAAF,SAAP;AACD;AACF;;;WAED,qBAAmBN,CAAnB,EAAkC;AAGhCA,MAAAA,CAAC,CAACS,cAAF;AACD;;;;EAlB4Cb,Y;;SAA1BG,iB","sourcesContent":["// @ts-ignore\nimport Point from '../../geo/point';\nimport MouseHandler from './mouse_handler';\nimport { LEFT_BUTTON, RIGHT_BUTTON } from './util';\nexport default class MousePitchHandler extends MouseHandler {\n  public correctButton(e: MouseEvent, button: number) {\n    return (button === LEFT_BUTTON && e.ctrlKey) || button === RIGHT_BUTTON;\n  }\n\n  public move(lastPoint: Point, point: Point) {\n    const degreesPerPixelMoved = -0.5;\n    const pitchDelta = (point.y - lastPoint.y) * degreesPerPixelMoved;\n    if (pitchDelta) {\n      this.active = true;\n      return { pitchDelta };\n    }\n  }\n\n  public contextmenu(e: MouseEvent) {\n    // prevent browser context menu when necessary; we don't allow it with rotation\n    // because we can't discern rotation gesture start from contextmenu on Mac\n    e.preventDefault();\n  }\n}\n"],"file":"mousepitch_hander.js"}