{"version":3,"sources":["../../../src/handler/mouse/mousepitch_hander.ts"],"names":["MousePitchHandler","e","button","LEFT_BUTTON","ctrlKey","RIGHT_BUTTON","lastPoint","point","degreesPerPixelMoved","pitchDelta","y","active","preventDefault","MouseHandler"],"mappings":";;;;;;;;;;;;;;;;;;;AAEA;;AACA;;;;;;IACqBA,iB;;;;;;;;;;;;WACnB,uBAAqBC,CAArB,EAAoCC,MAApC,EAAoD;AAClD,aAAQA,MAAM,KAAKC,iBAAX,IAA0BF,CAAC,CAACG,OAA7B,IAAyCF,MAAM,KAAKG,kBAA3D;AACD;;;WAED,cAAYC,SAAZ,EAA8BC,KAA9B,EAA4C;AAC1C,UAAMC,oBAAoB,GAAG,CAAC,GAA9B;AACA,UAAMC,UAAU,GAAG,CAACF,KAAK,CAACG,CAAN,GAAUJ,SAAS,CAACI,CAArB,IAA0BF,oBAA7C;;AACA,UAAIC,UAAJ,EAAgB;AACd,aAAKE,MAAL,GAAc,IAAd;AACA,eAAO;AAAEF,UAAAA,UAAU,EAAVA;AAAF,SAAP;AACD;AACF;;;WAED,qBAAmBR,CAAnB,EAAkC;AAGhCA,MAAAA,CAAC,CAACW,cAAF;AACD;;;EAlB4CC,sB","sourcesContent":["// @ts-ignore\nimport Point from '../../geo/point';\nimport MouseHandler from './mouse_handler';\nimport { LEFT_BUTTON, RIGHT_BUTTON } from './util';\nexport default class MousePitchHandler extends MouseHandler {\n  public correctButton(e: MouseEvent, button: number) {\n    return (button === LEFT_BUTTON && e.ctrlKey) || button === RIGHT_BUTTON;\n  }\n\n  public move(lastPoint: Point, point: Point) {\n    const degreesPerPixelMoved = -0.5;\n    const pitchDelta = (point.y - lastPoint.y) * degreesPerPixelMoved;\n    if (pitchDelta) {\n      this.active = true;\n      return { pitchDelta };\n    }\n  }\n\n  public contextmenu(e: MouseEvent) {\n    // prevent browser context menu when necessary; we don't allow it with rotation\n    // because we can't discern rotation gesture start from contextmenu on Mac\n    e.preventDefault();\n  }\n}\n"],"file":"mousepitch_hander.js"}