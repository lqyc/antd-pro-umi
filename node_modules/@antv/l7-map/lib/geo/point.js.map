{"version":3,"sources":["../../src/geo/point.ts"],"names":["Point","x","y","p","clone","_add","_sub","_multByPoint","_divByPoint","k","_mult","_div","angle","cos","Math","sin","_rotate","_rotateAround","m","_matMult","div","mag","_unit","_perp","round","_round","sqrt","other","distSqr","dx","dy","atan2","b","angleWithSep","a","Array","isArray"],"mappings":"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","sourcesContent":["export type PointLike = [number, number] | Point;\n\nexport default class Point {\n  public static convert(a: any) {\n    if (a instanceof Point) {\n      return a;\n    }\n    if (Array.isArray(a)) {\n      return new Point(a[0], a[1]);\n    }\n    return a;\n  }\n  public x: number;\n  public y: number;\n\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n\n  public clone() {\n    return new Point(this.x, this.y);\n  }\n\n  public _add(p: Point) {\n    this.x += p.x;\n    this.y += p.y;\n    return this;\n  }\n\n  public add(p: Point) {\n    return this.clone()._add(p);\n  }\n\n  public _sub(p: Point) {\n    this.x -= p.x;\n    this.y -= p.y;\n    return this;\n  }\n  public sub(p: Point) {\n    return this.clone()._sub(p);\n  }\n\n  public _multByPoint(p: Point) {\n    this.x *= p.x;\n    this.y *= p.y;\n    return this;\n  }\n\n  public multByPoint(p: Point) {\n    return this.clone()._multByPoint(p);\n  }\n\n  public _divByPoint(p: Point) {\n    this.x /= p.x;\n    this.y /= p.y;\n    return this;\n  }\n  public divByPoint(p: Point) {\n    return this.clone()._divByPoint(p);\n  }\n\n  public _mult(k: number) {\n    this.x *= k;\n    this.y *= k;\n    return this;\n  }\n\n  public mult(k: number) {\n    return this.clone()._mult(k);\n  }\n\n  public _div(k: number) {\n    this.x /= k;\n    this.y /= k;\n    return this;\n  }\n\n  public div(k: number) {\n    return this.clone()._div(k);\n  }\n\n  public _rotate(angle: number) {\n    const cos = Math.cos(angle);\n    const sin = Math.sin(angle);\n    const x = cos * this.x - sin * this.y;\n    const y = sin * this.x + cos * this.y;\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n\n  public rotate(angle: number) {\n    return this.clone()._rotate(angle);\n  }\n\n  public _rotateAround(angle: number, p: Point) {\n    const cos = Math.cos(angle);\n    const sin = Math.sin(angle);\n    const x = p.x + cos * (this.x - p.x) - sin * (this.y - p.y);\n    const y = p.y + sin * (this.x - p.x) + cos * (this.y - p.y);\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n  public roateAround(angle: number, p: Point) {\n    return this.clone()._rotateAround(angle, p);\n  }\n\n  public _matMult(m: number[]) {\n    const x = m[0] * this.x + m[1] * this.y;\n    const y = m[2] * this.x + m[3] * this.y;\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n\n  public matMult(m: number[]) {\n    return this.clone()._matMult(m);\n  }\n\n  public _unit() {\n    this.div(this.mag());\n    return this;\n  }\n  public unit() {\n    return this.clone()._unit();\n  }\n\n  public _perp() {\n    const y = this.y;\n    this.y = this.x;\n    this.x = -y;\n    return this;\n  }\n  public perp() {\n    return this.clone()._perp();\n  }\n\n  public _round() {\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    return this;\n  }\n\n  public round() {\n    return this.clone()._round();\n  }\n\n  public mag() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  public equals(other: Point) {\n    return this.x === other.x && this.y === other.y;\n  }\n\n  public dist(p: Point) {\n    return Math.sqrt(this.distSqr(p));\n  }\n\n  public distSqr(p: Point) {\n    const dx = p.x - this.x;\n    const dy = p.y - this.y;\n    return dx * dx + dy * dy;\n  }\n\n  public angle() {\n    return Math.atan2(this.y, this.x);\n  }\n\n  public angleTo(b: Point) {\n    return Math.atan2(this.y - b.y, this.x - b.x);\n  }\n\n  public angleWith(b: Point) {\n    return this.angleWithSep(b.x, b.y);\n  }\n\n  public angleWithSep(x: number, y: number) {\n    return Math.atan2(this.x * y - this.y * x, this.x * x + this.y * y);\n  }\n}\n"],"file":"point.js"}