{"version":3,"sources":["../../../src/services/camera/Landmark.ts"],"names":["Landmark","name","c","matrix","right","up","forward","position","focalPoint","distanceVector","distance","dollyingStep","azimuth","elevation","roll","relAzimuth","relElevation","relRoll","mat4","clone","vec3","copy"],"mappings":"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","sourcesContent":["import { mat3, mat4, quat, vec3, vec4 } from 'gl-matrix';\nimport Camera from './Camera';\n\n/**\n * 保存相机状态，便于后续在多个 Landmark 间移动\n */\nexport default class Landmark {\n  public name: string;\n\n  private matrix: mat4;\n  private right: vec3;\n  private up: vec3;\n  private forward: vec3;\n  private position: vec3;\n  private focalPoint: vec3;\n  private distanceVector: vec3;\n  private distance: number;\n  private dollyingStep: number;\n  private azimuth = 0;\n  private elevation = 0;\n  private roll = 0;\n  private relAzimuth = 0;\n  private relElevation = 0;\n  private relRoll = 0;\n\n  constructor(name: string, c: Camera) {\n    this.name = name;\n\n    this.matrix = mat4.clone(c.matrix);\n    this.right = vec3.clone(c.right);\n    this.up = vec3.clone(c.up);\n    this.forward = vec3.clone(c.forward);\n    this.position = vec3.clone(c.position);\n    this.focalPoint = vec3.clone(c.focalPoint);\n    this.distanceVector = vec3.clone(c.distanceVector);\n\n    this.azimuth = c.azimuth;\n    this.elevation = c.elevation;\n    this.roll = c.roll;\n    this.relAzimuth = c.relAzimuth;\n    this.relElevation = c.relElevation;\n    this.relRoll = c.relRoll;\n    this.dollyingStep = c.dollyingStep;\n    this.distance = c.distance;\n  }\n\n  public retrieve(c: Camera) {\n    c.matrix = mat4.copy(c.matrix, this.matrix);\n    c.right = vec3.copy(c.right, this.right);\n    c.up = vec3.copy(c.up, this.up);\n    c.forward = vec3.copy(c.forward, this.forward);\n    c.position = vec3.copy(c.position, this.position);\n    c.focalPoint = vec3.copy(c.focalPoint, this.focalPoint);\n    c.distanceVector = vec3.copy(c.distanceVector, this.distanceVector);\n\n    c.azimuth = this.azimuth;\n    c.elevation = this.elevation;\n    c.roll = this.roll;\n    c.relAzimuth = this.relAzimuth;\n    c.relElevation = this.relElevation;\n    c.relRoll = this.relRoll;\n    c.dollyingStep = this.dollyingStep;\n    c.distance = this.distance;\n  }\n}\n"],"file":"Landmark.js"}