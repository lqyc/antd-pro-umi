{"version":3,"sources":["../../src/regl/ReglRenderbuffer.ts"],"names":["formatMap","ReglRenderbuffer","reGl","options","renderbuffer","width","height","format","destroy","resize"],"mappings":";;AAKA,SAASA,SAAT,QAA0B,aAA1B;;IAMqBC,gB;AAGnB,4BAAYC,IAAZ,EAA6BC,OAA7B,EAA0E;AAAA;;AAAA,SAFlEC,YAEkE;AAAA,QAChEC,KADgE,GACtCF,OADsC,CAChEE,KADgE;AAAA,QACzDC,MADyD,GACtCH,OADsC,CACzDG,MADyD;AAAA,QACjDC,MADiD,GACtCJ,OADsC,CACjDI,MADiD;AAExE,SAAKH,YAAL,GAAoBF,IAAI,CAACE,YAAL,CAAkB;AACpCC,MAAAA,KAAK,EAALA,KADoC;AAEpCC,MAAAA,MAAM,EAANA,MAFoC;AAGpCC,MAAAA,MAAM,EAAEP,SAAS,CAACO,MAAD;AAHmB,KAAlB,CAApB;AAKD;;;;WAED,eAAa;AACX,aAAO,KAAKH,YAAZ;AACD;;;WAED,mBAAiB;AACf,WAAKA,YAAL,CAAkBI,OAAlB;AACD;;;WAED,sBAAoE;AAAA,UAApDH,KAAoD,QAApDA,KAAoD;AAAA,UAA7CC,MAA6C,QAA7CA,MAA6C;AAClE,WAAKF,YAAL,CAAkBK,MAAlB,CAAyBJ,KAAzB,EAAgCC,MAAhC;AACD;;;;;;SAtBkBL,gB","sourcesContent":["import {\n  IRenderbuffer,\n  IRenderbufferInitializationOptions,\n} from '@antv/l7-core';\nimport regl from 'regl';\nimport { formatMap } from './constants';\n\n/**\n * adaptor for regl.Renderbuffer\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#renderbuffers\n */\nexport default class ReglRenderbuffer implements IRenderbuffer {\n  private renderbuffer: regl.Renderbuffer;\n\n  constructor(reGl: regl.Regl, options: IRenderbufferInitializationOptions) {\n    const { width, height, format } = options;\n    this.renderbuffer = reGl.renderbuffer({\n      width,\n      height,\n      format: formatMap[format] as regl.RenderbufferFormat,\n    });\n  }\n\n  public get() {\n    return this.renderbuffer;\n  }\n\n  public destroy() {\n    this.renderbuffer.destroy();\n  }\n\n  public resize({ width, height }: { width: number; height: number }) {\n    this.renderbuffer.resize(width, height);\n  }\n}\n"],"file":"ReglRenderbuffer.js"}