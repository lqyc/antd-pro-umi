{"version":3,"sources":["../../src/regl/ReglElements.ts"],"names":["gl","dataTypeMap","usageMap","ReglElements","reGl","options","elements","data","usage","type","count","STATIC_DRAW","UNSIGNED_BYTE","subdata"],"mappings":";;AAAA,SAASA,EAAT,QAA8D,eAA9D;AAEA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,aAAtC;;IAKqBC,Y;AAGnB,wBAAYC,IAAZ,EAA6BC,OAA7B,EAAsE;AAAA;;AAAA,SAF9DC,QAE8D;AAAA,QAC5DC,IAD4D,GAC/BF,OAD+B,CAC5DE,IAD4D;AAAA,QACtDC,KADsD,GAC/BH,OAD+B,CACtDG,KADsD;AAAA,QAC/CC,IAD+C,GAC/BJ,OAD+B,CAC/CI,IAD+C;AAAA,QACzCC,KADyC,GAC/BL,OAD+B,CACzCK,KADyC;AAGpE,SAAKJ,QAAL,GAAgBF,IAAI,CAACE,QAAL,CAAc;AAC5BC,MAAAA,IAAI,EAAJA,IAD4B;AAE5BC,MAAAA,KAAK,EAAEN,QAAQ,CAACM,KAAK,IAAIR,EAAE,CAACW,WAAb,CAFa;AAG5BF,MAAAA,IAAI,EAAER,WAAW,CAACQ,IAAI,IAAIT,EAAE,CAACY,aAAZ,CAHW;AAO5BF,MAAAA,KAAK,EAALA;AAP4B,KAAd,CAAhB;AASD;;;;WAED,eAAa;AACX,aAAO,KAAKJ,QAAZ;AACD;;;WAED,uBAIG;AAAA,UAHDC,IAGC,QAHDA,IAGC;AACD,WAAKD,QAAL,CAAcO,OAAd,CAAsBN,IAAtB;AACD;;;WAED,mBAAiB,CAEhB;;;;;;SA/BkBJ,Y","sourcesContent":["import { gl, IElements, IElementsInitializationOptions } from '@antv/l7-core';\nimport regl from 'regl';\nimport { dataTypeMap, usageMap } from './constants';\n\n/**\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#elements\n */\nexport default class ReglElements implements IElements {\n  private elements: regl.Elements;\n\n  constructor(reGl: regl.Regl, options: IElementsInitializationOptions) {\n    const { data, usage, type, count } = options;\n\n    this.elements = reGl.elements({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE] as\n        | 'uint8'\n        | 'uint16'\n        | 'uint32',\n      count,\n    });\n  }\n\n  public get() {\n    return this.elements;\n  }\n\n  public subData({\n    data,\n  }: {\n    data: number[] | number[][] | Uint8Array | Uint16Array | Uint32Array;\n  }) {\n    this.elements.subdata(data);\n  }\n\n  public destroy() {\n    // this.elements.destroy();\n  }\n}\n"],"file":"ReglElements.js"}