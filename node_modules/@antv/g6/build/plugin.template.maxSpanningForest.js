!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@antv/g6")):"function"==typeof define&&define.amd?define(["@antv/g6"],t):"object"==typeof exports?exports["plugin.template.maxSpanningForest"]=t(require("@antv/g6")):e["plugin.template.maxSpanningForest"]=t(e.G6)}(window,function(e){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=411)}({119:function(e,t,r){var i=r(3),n=i.Util,o=function(){function e(e){n.mix(this,{_freezeElements:{}},e)}var t=e.prototype;return t.init=function(){var e=this,t=this.graph;t.on("afterchange",function(){e._stashFreezeElement()}),t.on("afterzoom",function(){e.freezeSize()})},t._stashFreezeElement=function(){var e=this.graph.getCanvas(),t=this._freezeElements;e.deepEach(function(e){e.get("freezePoint")&&(t[e.gid]=e)})},t.freezeSize=function(){var e=this._freezeElements,t=this.graph;n.each(e,function(e){var r=e.get("freezePoint"),i=t.getZoom();e.isShape&&r&&e.get("visible")&&(e.resetMatrix(),e.transform([["t",-r.x,-r.y],["s",1/i,1/i],["t",r.x,r.y]]))})},e}();i.Plugins["tool.freezeSize"]=o,e.exports=o},120:function(e,t,r){var i=r(3).Util,n={extract:function(e,t){var r=[];i.each(t,function(t){r="in"===e?t.getInEdges():"out"===e?t.getOutEdges():t.getEdges()});var n=[];return i.each(t,function(e){n.push(e),i.each(r,function(t){var r=t.getSource(),i=t.getTarget();r.id!==e.id&&n.push(r),i.id!==e.id&&n.push(i)})}),{reNodes:n,reEdges:r}}};i.mix(i,n)},121:function(e,t,r){function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=r(3),o=n.Util,s=r(239),a=function(){function e(e){o.mix(this,e),this.options=e}return e.prototype.init=function(){var e=this,t=this.graph;this.oriPos=new Map,this.preMoveNodes=[],t.on("beforeinit",function(){var r=new s(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}({graph:t},e.options));t.on("mousemove",o.throttle(function(i){if(!t.destroyed){var n=t.getNodes().length;if(e.oriPos.size===n){for(var o=0;o<e.preMoveNodes.length;o+=1){var s=e.preMoveNodes[o].getModel();s.x=e.oriPos.get(e.preMoveNodes[o].id).x,s.y=e.oriPos.get(e.preMoveNodes[o].id).y}t.preventAnimate(function(){t.updateNodePosition(e.preMoveNodes)}),e.preMoveNodes=r.zoom(i.x,i.y)}}},30))});var r=o.debounce(function(r){if(!t.destroyed){var i=t.getNodes(),n=i.length;if(e.preMoveNodes=[],void 0===r||void 0===r.item)for(var o=0;o<n;o++){if(void 0===i[o].getModel().x)return;e.oriPos.set(i[o].id,{x:i[o].getModel().x,y:i[o].getModel().y})}else{if("node"!==r.item.type||void 0===r.updateModel.x&&void 0===r.updateModel.y)return;e.oriPos.set(r.originModel.id,{x:r.updateModel.x,y:r.updateModel.y})}}},30);t.on("afterchange",r),t.on("afterlayout",r)},e}();n.Plugins["tool.fisheye"]=a,e.exports=a},122:function(e,t,r){function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=r(3),o=n.Util;n.registerGuide("mask",{draw:function(e){var t=e.getGraphicGroup(),r=function(e){var t=e.getWidth(),r=e.getHeight(),i=e.getPointByDom({x:0,y:0}),n=e.getPointByDom({x:t,y:r});return{x:i.x,y:i.y,width:n.x-i.x,height:n.y-i.y}}(e.getGraph()),n=e.getModel().style;return t.addShape("rect",{attrs:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}({},r,n),capture:!1})},showAnimation:"fadeIn",hideAnimation:"fadeOut",bboxCalculation:!1,filter:!1});var s=function(){function e(e){o.mix(this,{maskStyle:{fill:"rgb(255, 255, 255)",fillOpacity:.8}},e)}var t=e.prototype;return t.init=function(){var e=this,t=this.graph;t.highlightSubgraph=this.highlightSubgraph,t.unhighlightGraph=this.unhighlightGraph,t.on("afterchange",function(){var r=t.find("mask");r||(r=t.add("guide",{shape:"mask",id:"mask",style:e.maskStyle})).hide()}),t.on("afterviewportchange",function(){var e=t.find("mask");e&&e.forceUpdate()})},t.highlightSubgraph=function(e){var t=this,r=this.find("mask"),i=this.getItemGroup().get("children");this.originChildren=[],i.forEach(function(e){t.originChildren.push(e)}),r.toFront(),e.forEach(function(e){e.getGraphicGroup().toFront()}),this.show(r)},t.unhighlightGraph=function(){var e=this.getItemGroup(),t=this.originChildren;t&&e.set("children",t),this.hide("mask")},e}();n.Plugins["tool.highlightSubgraph"]=s,e.exports=s},123:function(e,t,r){var i=r(3),n=i.Util,o=function(){function e(e){n.mix(this,{ratio:2},e)}var t=e.prototype;return t.init=function(){var e=this;this.graph.on("afterchange",function(){e.textDisplay()}),this.graph.on("afterviewportchange",function(){e.textDisplay()}),this.graph.on("afterzoom",function(){e.textDisplay()}),this.graph.textDisplay=function(){e.textDisplay()}},t._textDisplay=function(e,t){if(e){var r=this.graph,i=e.getBBox(),n=r.getZoom(),o=(i.maxX-i.minX)*(1/n),s=t.maxX-t.minX;if(0!==o)o/s>this.ratio?e.hide():e.show()}},t.textDisplay=function(){var e=this,t=this.graph,r=t.getNodes();n.each(r,function(t){var r=t.getGraphicGroup(),i=t.getBBox();r.deepEach(function(t){"text"===t.get("type")&&e._textDisplay(t,i)})}),t.draw()},e}();i.Plugins["tool.textDisplay"]=o,e.exports=o},124:function(e,t,r){var i=r(3).Util,n=r(240);e.exports=function(e){var t=e.nodes,r=e.edges,o=[],s={nodes:[],edges:[],maxRankNode:null},a={},u=-1/0;return i.each(t,function(e){e.links=[],e.edges=[],a[e.id]=e,i.isNil(e.weight)&&(e.weight=1),i.isNil(e.rank)&&(e.weight?e.rank=e.weight:e.rank=1)}),i.each(r,function(e,r){var n=a[e.source],o=a[e.target];n.links.push(t.indexOf(o)),o.links.push(t.indexOf(n)),n.edges.push(r),o.edges.push(r),i.isNil(e.weight)&&(e.weight=1)}),i.each(t,function(e,n){e.visited||o.push(function(e,t,r){var n={nodes:[],edges:[],root:null},o={},s=[],a=-1/0;return function(e,t,r){var i=[e];for(t[e].visited=!0,r(e);i.length>0;){var n=i.pop();t[n].links.forEach(function(e){t[e].visited||(t[e].visited=!0,r(e),i.push(e))})}}(e,t,function(e){var r=t[e];r.rank>a&&(a=r.rank,n.root=r),n.nodes.push(r),n.edges=n.edges.concat(r.edges)}),i.each(n.edges,function(e){o[e]||(s.push(r[e]),o[e]=!0)}),n.edges=s,n}(n,t,r))}),i.each(t,function(e){delete e.links,delete e.edges,delete e.visited}),i.each(o,function(e){var t=n(e),r=e.root;s.nodes=s.nodes.concat(t.nodes),s.edges=s.edges.concat(t.edges),r.rank>u&&(u=r.rank,s.maxRankNode=r)}),s}},125:function(e,t,r){var i=r(3).Util,n=r(246),o=r(244),s=function(){function e(e){i.mix(this,{width:null,height:null,center:null,kr:0,kg:1,mode:"normal",prevOverlapping:!1,dissuadeHubs:!1,barnesHut:"",maxIteration:0,ks:.1,ksmax:10,tao:.1,onLayoutComplete:function(){},useWorker:!0,prune:""},e)}return e.prototype.execute=function(){for(var e=this.graph,t=this.nodes,r=this.edges,s=this.kr,a=this.kg,u=this.mode,d=this.prevOverlapping,h=this.dissuadeHubs,c=this.maxIteration,l=this.barnesHut,f=this.ks,g=this.ksmax,p=this.tao,v=this.onLayoutComplete,y=this.prune,m=this.width?this.width:e.getWidth(),x=this.height?this.height:e.getHeight(),b=this.center?this.center:{x:m/2,y:x/2},w=[],M=t.length,F=0;F<M;F+=1)w[F]=(e.getNodes()[F].getBBox().maxX-e.getNodes()[F].getBBox().minX)/2;""===l&&(l=!1,M>250&&(l=!0),this.barnesHut=l),""===y&&(y=M>100),0!==this.maxIteration||y?0===this.maxIteration&&y&&(c=100,M<=200&&M>100?c=500:M>200&&(c=950),this.maxIteration=c):(c=250,M<=200&&M>100?c=1e3:M>200&&(c=1200),this.maxIteration=c),0===s&&(s=50,M>100&&M<=500?s=20:M>500&&(s=1)),0===a&&(a=20,M>100&&M<=500?a=10:M>500&&(a=1));var k={nodes:t,edges:r,kr:s,kg:a,mode:u,prevOverlapping:d,dissuadeHubs:h,barnesHut:l,maxIteration:c,ks:f,ksmax:g,tao:p,center:b,widths:w,prune:y};if(this.useWorker){var E=i.createDOM("<div></div>");E.id="loading",E.style.setProperty("background-color","#fff"),E.style.setProperty("position","absolute");var I=e.getGraphContainer().parentNode,S=I.offsetHeight?I.offsetHeight:600,O=I.offsetWidth?I.offsetWidth:600;E.style.setProperty("width",O+"px"),E.style.setProperty("height",S+"px"),E.style.setProperty("margin-top",-I.offsetHeight+"px"),E.style.zIndex=4,I.appendChild(E);var N=document.createElement("img");N.src="https://gw.alipayobjects.com/zos/rmsportal/mnEmjOmrHbghTsZNeTmI.gif",N.style.setProperty("width","200px"),N.style.setProperty("height","200px");var P=(E.offsetWidth-200)/2;N.style.setProperty("margin-left",P+"px");var z=(E.offsetHeight-200)/2;N.style.setProperty("margin-top",z+"px"),E.appendChild(N),e.on("afterdestroy",function(){null!==E&&void 0!==E&&E.destroy()});var W=new n;W.postMessage(k),W.onmessage=function(t){this.nodes=t.data;for(var r=e.getNodes(),i=0;i<M;i+=1){var n=r[i].getModel();n.x=this.nodes[i].x,n.y=this.nodes[i].y}e.updateNodePosition(),e.emit("afterlayout");var o=e.get("fitView");o&&e.setFitView(o),W.terminate(),E.style.display="none",E.destroy(),v()}}else{var B=new o;this.nodes=B.updateNodesByForces(k);for(var _=e.getNodes(),j=0;j<M;j+=1){var G=_[j].getModel();G.x=this.nodes[j].x,G.y=this.nodes[j].y}e.updateNodePosition(),e.emit("afterlayout");var C=e.get("fitView");C&&e.setFitView(C),v()}},e}();e.exports=s},126:function(e,t,r){var i=r(3),n=i.Util;i.registerEdge("quadraticCurve",{getPath:function(e){var t=e.getPoints(),r=e.getModel(),i=t[0],o=e.getSource(),s=e.getTarget(),a=t[t.length-1],u=n.isNil(r.cpd)?.5:r.cpd,d=[.5*(a.x+i.x)-i.x,.5*(a.y+i.y)-i.y],h=[-d[1]*u,d[0]*u],c={x:d[0]+h[0]+i.x,y:d[1]+h[1]+i.y},l=o.getLinkPoints(c)[0],f=s.getLinkPoints(c)[0];return[["M",l.x,l.y],["Q",c.x,c.y,f.x,f.y]]}})},127:function(e,t,r){var i=r(3),n=i.Util;function o(e,t,r){var i;function n(){i=void 0,e.css({cursor:"-webkit-grab"}),e.setCapture(!0)}void 0===t&&(t="left"),void 0===r&&(r=!1),"right"===t&&e.behaviourOn("contextmenu",function(e){e.domEvent.preventDefault()}),e.behaviourOn("mousedown",function(e){("left"===t&&0===e.domEvent.button||"right"===t&&2===e.domEvent.button)&&(r&&e.shape||(i={x:e.domX,y:e.domY}))}),e.behaviourOn("canvas:mouseenter",function(){e.css({cursor:"-webkit-grab"})}),e.behaviourOn("dragstart",function(){i&&(e.setCapture(!1),e.css({cursor:"-webkit-grabbing"}))}),e.behaviourOn("drag",function(t){i&&(e.translate(t.domX-i.x,t.domY-i.y),i={x:t.domX,y:t.domY})}),e.behaviourOn("dragend",function(){n()}),e.behaviourOn("canvas:mouseleave",function(){n()})}i.registerBehaviour("panCanvas",o),i.registerBehaviour("rightPanCanvas",function(e){o(e,"right")}),i.registerBehaviour("panBlank",function(e){o(e,"left",!0)}),i.registerBehaviour("rightPanBlank",function(e){o(e,"right",!0)}),i.registerBehaviour("panNode",function(e){var t,r,i;e.behaviourOn("node:mouseenter",function(){e.css({cursor:"move"})}),e.behaviourOn("node:mouseleave",function(){e.css({cursor:"default"})}),e.behaviourOn("node:dragstart",function(n){var o=n.item,s=n.x,a=n.y;e.css({cursor:"move"});var u=o.getModel();t=o,r=u.x-s,i=u.y-a}),e.behaviourOn("node:drag",function(n){e.preventAnimate(function(){e.update(t,{x:n.x+r,y:n.y+i})})}),e.behaviourOn("node:dragend",function(){t=void 0}),e.behaviourOn("canvas:mouseleave",function(){t=void 0})}),i.registerBehaviour("wheelZoom",function(e){var t;e.behaviourOn("wheel",function(e){e.domEvent.preventDefault()}),e.behaviourOn("wheel",n.throttle(function(r){var i=r.domEvent.wheelDelta;if(Math.abs(i)>10){var n=e.getMatrix()[0];i>0?e.zoom({x:r.x,y:r.y},1.05*n):e.zoom({x:r.x,y:r.y},n*(1/1.05))}t&&clearTimeout(t),t=setTimeout(function(){t=void 0},50)},16))}),e.exports=!0},239:function(e,t,r){var i=r(3).Util,n=function(){function e(e){i.mix(this,{radius:200,center:[0,0],d:1},e)}return e.prototype.zoom=function(e,t){for(var r=this.graph,i=this.radius,n=this.d,a=[e,t],u=r.getNodes(),d=u.length,h=[],c=0;c<d;c+=1){var l=u[c].getModel();if(Math.hypot(l.x-a[0],l.y-a[1])<i){var f=[l.x-a[0],l.y-a[1]],g=o(f[0],f[1]),p=g.p,v=s(i*((n+1)*(p/i)/(n*(p/i)+1)),g.theta),y=v.x,m=v.y,x=u[c].getModel();x.x=y+a[0],x.y=m+a[1],h.push(u[c])}}return r.preventAnimate(function(){r.updateNodePosition(h)}),h},e}();function o(e,t){var r,i=Math.hypot(e,t);return t>=0?r=0===e?Math.PI/2:Math.acos(e/i):t<0&&(r=0===e?3*Math.PI/2:2*Math.PI-Math.acos(e/i)),{p:i,theta:r}}function s(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}e.exports=n},240:function(e,t,r){var i=r(3).Util,n=[],o=[];e.exports=function(e){var t=e.nodes,r=e.edges,s=e.root,a={};i.each(t,function(e){e.to=[],e.from=[],a[e.id]=e}),i.each(r,function(e){var t=a[e.source],r=a[e.target];t.to.push(e),r.from.push(e)}),n=[s],o=[];for(var u=function(){var e=-1/0,t=void 0,r="target";i.each(n,function(o){i.each(o.to,function(i){-1===n.indexOf(a[i[r]])&&i.weight>e&&(e=i.weight,t=i)})}),t||(r="source",i.each(n,function(o){i.each(o.from,function(i){-1===n.indexOf(a[i[r]])&&i.weight>e&&(e=i.weight,t=i)})})),n.push(a[t[r]]),o.push(t)};n.length!==t.length;)u();return i.each(t,function(e){delete e.to,delete e.from}),{nodes:n,edges:o}}},241:function(e,t){var r=function(){function e(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}var t=e.prototype;return t.insert=function(t){null!=this.body?this._isExternal()?(this.NW=new e(this.quad.NW()),this.NE=new e(this.quad.NE()),this.SW=new e(this.quad.SW()),this.SE=new e(this.quad.SE()),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t},t._putBody=function(e){e.in(this.quad.NW())?this.NW.insert(e):e.in(this.quad.NE())?this.NE.insert(e):e.in(this.quad.SW())?this.SW.insert(e):e.in(this.quad.SE())&&this.SE.insert(e)},t._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},t.updateForce=function(e){null!=this.body&&e!==this.body&&(this._isExternal()?e.addForce(this.body):this.quad.getLength()/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW.updateForce(e),this.NE.updateForce(e),this.SW.updateForce(e),this.SE.updateForce(e)))},e}();e.exports=r},242:function(e,t){var r=function(){function e(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter,this.mass=e.mass}var t=e.prototype;return t.getLength=function(){return this.length},t.contains=function(e,t){var r=this.length/2;return e<=this.xmid+r&&e>=this.xmid-r&&t<=this.ymid+r&&t>=this.ymid-r},t.NW=function(){var t=new e({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2});return t},t.NE=function(){var t=new e({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2});return t},t.SW=function(){var t=new e({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2});return t},t.SE=function(){var t=new e({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2});return t},e}();e.exports=r},243:function(e,t){var r=function(){function e(e){this.id=e.id,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.G=e.G}var t=e.prototype;return t.distanceTo=function(e){var t=this.rx-e.rx,r=this.ry-e.ry;return Math.hypot(t,r)},t.setPos=function(e,t){this.rx=e,this.ry=t},t.resetForce=function(){this.fx=0,this.fy=0},t.addForce=function(e){var t=e.rx-this.rx,r=e.ry-this.ry,i=Math.hypot(t,r);i=i<1e-4?1e-4:i;var n=this.G*(this.degree+1)*(e.degree+1)/i;this.fx+=n*t/i,this.fy+=n*r/i},t.in=function(e){return e.contains(this.rx,this.ry)},t.add=function(t){var r=this.mass+t.mass;return new e({rx:(this.rx*this.mass+t.rx*t.mass)/r,ry:(this.ry*this.mass+t.ry*t.mass)/r,mass:r,degree:this.degree+t.degree})},e}();e.exports=r},244:function(e,t,r){var i=r(243),n=r(242),o=r(241),s=function(){function e(){}var t=e.prototype;return t.updateNodesByForces=function(e){var t=e.nodes,r=e.edges,i=e.maxIteration,n=e.barnesHut,o=e.prune;r=r.filter(function(e){return e.source!==e.target});for(var s=t.length,a=r.length,u=[],d={},h={},c=[],l=0;l<s;l+=1)d[t[l].id]=l,u[l]=0,(void 0===t[l].x||isNaN(t[l].x))&&(t[l].x=1e3*Math.random()),(void 0===t[l].y||isNaN(t[l].y))&&(t[l].y=1e3*Math.random()),c.push({x:t[l].x,y:t[l].y});for(var f=0;f<a;f+=1){for(var g=void 0,p=void 0,v=0,y=0,m=0;m<s;m+=1)t[m].id===r[f].source?(g=t[m],v=m):t[m].id===r[f].target&&(p=t[m],y=m),h[f]={sourceIdx:v,targetIdx:y};u[d[g.id]]+=1,u[d[p.id]]+=1}var x=i,b={data:e,size:s,esize:a,idMap:d,degrees:u,iteration:x,prune:o,barnesHut:n,edgeEndsIdMap:h};if(t=this.iterate(b),o){for(var w=0;w<a;w+=1)u[h[w].sourceIdx]<=1?(t[h[w].sourceIdx].x=t[h[w].targetIdx].x,t[h[w].sourceIdx].y=t[h[w].targetIdx].y):u[h[w].targetIdx]<=1&&(t[h[w].targetIdx].x=t[h[w].sourceIdx].x,t[h[w].targetIdx].y=t[h[w].sourceIdx].y);var M={data:e,size:s,esize:a,idMap:d,degrees:u,iteration:x=100,prune:o=!1,barnesHut:n=!1,edgeEndsIdMap:h};t=this.iterate(M)}return t},t.iterate=function(e){for(var t=e.data,r=e.size,n=e.esize,o=e.idMap,s=e.degrees,a=e.iteration,u=e.prune,d=e.barnesHut,h=e.edgeEndsIdMap,c=t.nodes,l=t.ks,f=t.kr,g=t.kg,p=t.mode,v=t.prevOverlapping,y=t.dissuadeHubs,m=t.ksmax,x=t.tao,b=t.center,w=t.widths,M=0,F=a,k=[],E=[],I=[],S=0;S<r;S+=1)if(k[2*S]=0,k[2*S+1]=0,d){var O={id:S,rx:c[S].x,ry:c[S].y,mass:1,G:f,degree:s[S]};I[S]=new i(O),O=null}do{for(var N=0;N<r;N+=1)E[2*N]=k[2*N],E[2*N+1]=k[2*N+1],k[2*N]=0,k[2*N+1]=0;var P={nodes:c,esize:n,prevOverlapping:v,dissuadeHubs:y,mode:p,iter:F,prevoIter:50,Forces:k,widths:w,idMap:o,degrees:s,prune:u,edgeEndsIdMap:h};if(k=this.getAttrForces(P),d&&(v&&F>50||!v)){var z={nodes:c,size:r,Forces:k,kg:g,center:b,bodies:I,degrees:s,prune:u};k=this.getOptRepGraForces(z)}else{var W={nodes:c,size:r,prevOverlapping:v,iter:F,prevoIter:50,Forces:k,kr:f,krPrime:100,kg:g,center:b,widths:w,degrees:s,prune:u};k=this.getRepGraForces(W)}var B={size:r,nodes:c,Forces:k,preForces:E,SG:M,ks:l,ksmax:m,tao:x,degrees:s,prune:u},_=this.updatePos(B);c=_[0],M=_[1],F-=1}while(F>0);return c},t.getAttrForces=function(e){for(var t=e.nodes,r=e.esize,i=e.prevOverlapping,n=e.dissuadeHubs,o=e.mode,s=e.iter,a=e.prevoIter,u=e.Forces,d=e.widths,h=e.idMap,c=e.degrees,l=e.prune,f=e.edgeEndsIdMap,g=0;g<r;g+=1){var p=t[f[g].sourceIdx],v=f[g].sourceIdx,y=t[f[g].targetIdx],m=f[g].targetIdx;if(!l||!(c[v]<=1||c[m]<=1)){var x=[y.x-p.x,y.y-p.y],b=Math.hypot(x[0],x[1]);b=b<1e-4?1e-4:b,x[0]=x[0]/b,x[1]=x[1]/b,i&&s<a&&(b=b-d[v]-d[m]);var w=b,M=w;"linlog"===o&&(M=w=Math.log(1+b)),n&&(w=b/c[v],M=b/c[m]),i&&s<a&&b<=0?(w=0,M=0):i&&s<a&&b>0&&(w=b,M=b),u[2*h[p.id]]+=w*x[0],u[2*h[y.id]]-=M*x[0],u[2*h[p.id]+1]+=w*x[1],u[2*h[y.id]+1]-=M*x[1],x=null}}return u},t.getRepGraForces=function(e){for(var t=e.nodes,r=e.size,i=e.prevOverlapping,n=e.iter,o=e.prevoIter,s=e.Forces,a=e.kr,u=e.krPrime,d=e.kg,h=e.center,c=e.widths,l=e.degrees,f=e.prune,g=0;g<r;g+=1){for(var p=g+1;p<r;p+=1)if(!f||!(l[g]<=1||l[p]<=1)){var v=[t[p].x-t[g].x,t[p].y-t[g].y],y=Math.hypot(v[0],v[1]);y=y<1e-4?1e-4:y,v[0]=v[0]/y,v[1]=v[1]/y,i&&n<o&&(y=y-c[g]-c[p]);var m=a*(l[g]+1)*(l[p]+1)/y;i&&n<o&&y<0?m=u*(l[g]+1)*(l[p]+1):i&&n<o&&0===y?m=0:i&&n<o&&y>0&&(m=a*(l[g]+1)*(l[p]+1)/y),s[2*g]-=m*v[0],s[2*p]+=m*v[0],s[2*g+1]-=m*v[1],s[2*p+1]+=m*v[1],v=null}var x=[t[g].x-h.x,t[g].y-h.y],b=Math.hypot(x[0],x[1]);x[0]=x[0]/b,x[1]=x[1]/b;var w=d*(l[g]+1);s[2*g]-=w*x[0],s[2*g+1]-=w*x[1],x=null}return s},t.getOptRepGraForces=function(e){for(var t=e.nodes,r=e.size,i=e.Forces,s=e.kg,a=e.center,u=e.bodies,d=e.degrees,h=e.prune,c=9e10,l=-9e10,f=9e10,g=-9e10,p=0;p<r;p+=1)h&&d[p]<=1||(u[p].setPos(t[p].x,t[p].y),t[p].x>=l&&(l=t[p].x),t[p].x<=c&&(c=t[p].x),t[p].y>=g&&(g=t[p].y),t[p].y<=f&&(f=t[p].y));for(var v=Math.max(l-c,g-f),y={xmid:(l+c)/2,ymid:(g+f)/2,length:v,massCenter:a,mass:r},m=new n(y),x=new o(m),b=0;b<r;b+=1)h&&d[b]<=1||u[b].in(m)&&x.insert(u[b]);for(var w=0;w<r;w+=1)if(!(h&&d[w]<=1)){u[w].resetForce(),x.updateForce(u[w]),i[2*w]-=u[w].fx,i[2*w+1]-=u[w].fy;var M=[t[w].x-a.x,t[w].y-a.y],F=Math.hypot(M[0],M[1]);F=F<1e-4?1e-4:F,M[0]=M[0]/F,M[1]=M[1]/F;var k=s*(d[w]+1);i[2*w]-=k*M[0],i[2*w+1]-=k*M[1],F=null,k=null,M=null}return y=null,m=null,x=null,v=null,i},t.updatePos=function(e){for(var t=e.size,r=e.nodes,i=e.Forces,n=e.preForces,o=e.SG,s=e.ks,a=e.ksmax,u=e.tao,d=e.degrees,h=e.prune,c=[],l=[],f=0,g=0,p=0;p<t;p+=1)if(!(h&&d[p]<=1)){var v=[i[2*p]-n[2*p],i[2*p+1]-n[2*p+1]],y=Math.hypot(v[0],v[1]),m=[i[2*p]+n[2*p],i[2*p+1]+n[2*p+1]],x=Math.hypot(m[0],m[1]);c[p]=y,l[p]=x/2,f+=(d[p]+1)*c[p],g+=(d[p]+1)*l[p]}var b=o;o=u*g/f,0!==b&&(o=o>1.5*b?1.5*b:o);for(var w=0;w<t;w+=1)if(!(h&&d[w]<=1)){var M=s*o/(1+o*Math.sqrt(c[w])),F=Math.hypot(i[2*w],i[2*w+1]),k=a/(F=F<1e-4?1e-4:F),E=(M=M>k?k:M)*i[2*w],I=M*i[2*w+1];r[w].x+=E,r[w].y+=I}return c=null,l=null,b=null,[r,o]},e}();e.exports=s},245:function(e,t,r){"use strict";var i=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var r;try{(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),r=r.getBlob()}catch(t){r=new Blob([e])}return new Worker(i.createObjectURL(r))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},246:function(e,t,r){e.exports=function(){return r(245)('!function(e){var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t){var r=function(){function e(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}var t=e.prototype;return t.insert=function(t){null!=this.body?this._isExternal()?(this.NW=new e(this.quad.NW()),this.NE=new e(this.quad.NE()),this.SW=new e(this.quad.SW()),this.SE=new e(this.quad.SE()),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t},t._putBody=function(e){e.in(this.quad.NW())?this.NW.insert(e):e.in(this.quad.NE())?this.NE.insert(e):e.in(this.quad.SW())?this.SW.insert(e):e.in(this.quad.SE())&&this.SE.insert(e)},t._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},t.updateForce=function(e){null!=this.body&&e!==this.body&&(this._isExternal()?e.addForce(this.body):this.quad.getLength()/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW.updateForce(e),this.NE.updateForce(e),this.SW.updateForce(e),this.SE.updateForce(e)))},e}();e.exports=r},function(e,t){var r=function(){function e(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter,this.mass=e.mass}var t=e.prototype;return t.getLength=function(){return this.length},t.contains=function(e,t){var r=this.length/2;return e<=this.xmid+r&&e>=this.xmid-r&&t<=this.ymid+r&&t>=this.ymid-r},t.NW=function(){var t=new e({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2});return t},t.NE=function(){var t=new e({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2});return t},t.SW=function(){var t=new e({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2});return t},t.SE=function(){var t=new e({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2});return t},e}();e.exports=r},function(e,t){var r=function(){function e(e){this.id=e.id,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.G=e.G}var t=e.prototype;return t.distanceTo=function(e){var t=this.rx-e.rx,r=this.ry-e.ry;return Math.hypot(t,r)},t.setPos=function(e,t){this.rx=e,this.ry=t},t.resetForce=function(){this.fx=0,this.fy=0},t.addForce=function(e){var t=e.rx-this.rx,r=e.ry-this.ry,i=Math.hypot(t,r);i=i<1e-4?1e-4:i;var s=this.G*(this.degree+1)*(e.degree+1)/i;this.fx+=s*t/i,this.fy+=s*r/i},t.in=function(e){return e.contains(this.rx,this.ry)},t.add=function(t){var r=this.mass+t.mass;return new e({rx:(this.rx*this.mass+t.rx*t.mass)/r,ry:(this.ry*this.mass+t.ry*t.mass)/r,mass:r,degree:this.degree+t.degree})},e}();e.exports=r},function(e,t,r){var i=r(2),s=r(1),n=r(0),o=function(){function e(){}var t=e.prototype;return t.updateNodesByForces=function(e){var t=e.nodes,r=e.edges,i=e.maxIteration,s=e.barnesHut,n=e.prune;r=r.filter(function(e){return e.source!==e.target});for(var o=t.length,a=r.length,d=[],u={},h={},l=[],c=0;c<o;c+=1)u[t[c].id]=c,d[c]=0,(void 0===t[c].x||isNaN(t[c].x))&&(t[c].x=1e3*Math.random()),(void 0===t[c].y||isNaN(t[c].y))&&(t[c].y=1e3*Math.random()),l.push({x:t[c].x,y:t[c].y});for(var p=0;p<a;p+=1){for(var y=void 0,f=void 0,g=0,x=0,v=0;v<o;v+=1)t[v].id===r[p].source?(y=t[v],g=v):t[v].id===r[p].target&&(f=t[v],x=v),h[p]={sourceIdx:g,targetIdx:x};d[u[y.id]]+=1,d[u[f.id]]+=1}var m=i,b={data:e,size:o,esize:a,idMap:u,degrees:d,iteration:m,prune:n,barnesHut:s,edgeEndsIdMap:h};if(t=this.iterate(b),n){for(var F=0;F<a;F+=1)d[h[F].sourceIdx]<=1?(t[h[F].sourceIdx].x=t[h[F].targetIdx].x,t[h[F].sourceIdx].y=t[h[F].targetIdx].y):d[h[F].targetIdx]<=1&&(t[h[F].targetIdx].x=t[h[F].sourceIdx].x,t[h[F].targetIdx].y=t[h[F].sourceIdx].y);var M={data:e,size:o,esize:a,idMap:u,degrees:d,iteration:m=100,prune:n=!1,barnesHut:s=!1,edgeEndsIdMap:h};t=this.iterate(M)}return t},t.iterate=function(e){for(var t=e.data,r=e.size,s=e.esize,n=e.idMap,o=e.degrees,a=e.iteration,d=e.prune,u=e.barnesHut,h=e.edgeEndsIdMap,l=t.nodes,c=t.ks,p=t.kr,y=t.kg,f=t.mode,g=t.prevOverlapping,x=t.dissuadeHubs,v=t.ksmax,m=t.tao,b=t.center,F=t.widths,M=0,I=a,E=[],S=[],N=[],w=0;w<r;w+=1)if(E[2*w]=0,E[2*w+1]=0,u){var k={id:w,rx:l[w].x,ry:l[w].y,mass:1,G:p,degree:o[w]};N[w]=new i(k),k=null}do{for(var W=0;W<r;W+=1)S[2*W]=E[2*W],S[2*W+1]=E[2*W+1],E[2*W]=0,E[2*W+1]=0;var z={nodes:l,esize:s,prevOverlapping:g,dissuadeHubs:x,mode:f,iter:I,prevoIter:50,Forces:E,widths:F,idMap:n,degrees:o,prune:d,edgeEndsIdMap:h};if(E=this.getAttrForces(z),u&&(g&&I>50||!g)){var O={nodes:l,size:r,Forces:E,kg:y,center:b,bodies:N,degrees:o,prune:d};E=this.getOptRepGraForces(O)}else{var _={nodes:l,size:r,prevOverlapping:g,iter:I,prevoIter:50,Forces:E,kr:p,krPrime:100,kg:y,center:b,widths:F,degrees:o,prune:d};E=this.getRepGraForces(_)}var q={size:r,nodes:l,Forces:E,preForces:S,SG:M,ks:c,ksmax:v,tao:m,degrees:o,prune:d},P=this.updatePos(q);l=P[0],M=P[1],I-=1}while(I>0);return l},t.getAttrForces=function(e){for(var t=e.nodes,r=e.esize,i=e.prevOverlapping,s=e.dissuadeHubs,n=e.mode,o=e.iter,a=e.prevoIter,d=e.Forces,u=e.widths,h=e.idMap,l=e.degrees,c=e.prune,p=e.edgeEndsIdMap,y=0;y<r;y+=1){var f=t[p[y].sourceIdx],g=p[y].sourceIdx,x=t[p[y].targetIdx],v=p[y].targetIdx;if(!c||!(l[g]<=1||l[v]<=1)){var m=[x.x-f.x,x.y-f.y],b=Math.hypot(m[0],m[1]);b=b<1e-4?1e-4:b,m[0]=m[0]/b,m[1]=m[1]/b,i&&o<a&&(b=b-u[g]-u[v]);var F=b,M=F;"linlog"===n&&(M=F=Math.log(1+b)),s&&(F=b/l[g],M=b/l[v]),i&&o<a&&b<=0?(F=0,M=0):i&&o<a&&b>0&&(F=b,M=b),d[2*h[f.id]]+=F*m[0],d[2*h[x.id]]-=M*m[0],d[2*h[f.id]+1]+=F*m[1],d[2*h[x.id]+1]-=M*m[1],m=null}}return d},t.getRepGraForces=function(e){for(var t=e.nodes,r=e.size,i=e.prevOverlapping,s=e.iter,n=e.prevoIter,o=e.Forces,a=e.kr,d=e.krPrime,u=e.kg,h=e.center,l=e.widths,c=e.degrees,p=e.prune,y=0;y<r;y+=1){for(var f=y+1;f<r;f+=1)if(!p||!(c[y]<=1||c[f]<=1)){var g=[t[f].x-t[y].x,t[f].y-t[y].y],x=Math.hypot(g[0],g[1]);x=x<1e-4?1e-4:x,g[0]=g[0]/x,g[1]=g[1]/x,i&&s<n&&(x=x-l[y]-l[f]);var v=a*(c[y]+1)*(c[f]+1)/x;i&&s<n&&x<0?v=d*(c[y]+1)*(c[f]+1):i&&s<n&&0===x?v=0:i&&s<n&&x>0&&(v=a*(c[y]+1)*(c[f]+1)/x),o[2*y]-=v*g[0],o[2*f]+=v*g[0],o[2*y+1]-=v*g[1],o[2*f+1]+=v*g[1],g=null}var m=[t[y].x-h.x,t[y].y-h.y],b=Math.hypot(m[0],m[1]);m[0]=m[0]/b,m[1]=m[1]/b;var F=u*(c[y]+1);o[2*y]-=F*m[0],o[2*y+1]-=F*m[1],m=null}return o},t.getOptRepGraForces=function(e){for(var t=e.nodes,r=e.size,i=e.Forces,o=e.kg,a=e.center,d=e.bodies,u=e.degrees,h=e.prune,l=9e10,c=-9e10,p=9e10,y=-9e10,f=0;f<r;f+=1)h&&u[f]<=1||(d[f].setPos(t[f].x,t[f].y),t[f].x>=c&&(c=t[f].x),t[f].x<=l&&(l=t[f].x),t[f].y>=y&&(y=t[f].y),t[f].y<=p&&(p=t[f].y));for(var g=Math.max(c-l,y-p),x={xmid:(c+l)/2,ymid:(y+p)/2,length:g,massCenter:a,mass:r},v=new s(x),m=new n(v),b=0;b<r;b+=1)h&&u[b]<=1||d[b].in(v)&&m.insert(d[b]);for(var F=0;F<r;F+=1)if(!(h&&u[F]<=1)){d[F].resetForce(),m.updateForce(d[F]),i[2*F]-=d[F].fx,i[2*F+1]-=d[F].fy;var M=[t[F].x-a.x,t[F].y-a.y],I=Math.hypot(M[0],M[1]);I=I<1e-4?1e-4:I,M[0]=M[0]/I,M[1]=M[1]/I;var E=o*(u[F]+1);i[2*F]-=E*M[0],i[2*F+1]-=E*M[1],I=null,E=null,M=null}return x=null,v=null,m=null,g=null,i},t.updatePos=function(e){for(var t=e.size,r=e.nodes,i=e.Forces,s=e.preForces,n=e.SG,o=e.ks,a=e.ksmax,d=e.tao,u=e.degrees,h=e.prune,l=[],c=[],p=0,y=0,f=0;f<t;f+=1)if(!(h&&u[f]<=1)){var g=[i[2*f]-s[2*f],i[2*f+1]-s[2*f+1]],x=Math.hypot(g[0],g[1]),v=[i[2*f]+s[2*f],i[2*f+1]+s[2*f+1]],m=Math.hypot(v[0],v[1]);l[f]=x,c[f]=m/2,p+=(u[f]+1)*l[f],y+=(u[f]+1)*c[f]}var b=n;n=d*y/p,0!==b&&(n=n>1.5*b?1.5*b:n);for(var F=0;F<t;F+=1)if(!(h&&u[F]<=1)){var M=o*n/(1+n*Math.sqrt(l[F])),I=Math.hypot(i[2*F],i[2*F+1]),E=a/(I=I<1e-4?1e-4:I),S=(M=M>E?E:M)*i[2*F],N=M*i[2*F+1];r[F].x+=S,r[F].y+=N}return l=null,c=null,b=null,[r,n]},e}();e.exports=o},function(e,t,r){const i=r(3);onmessage=function(e){const t=(new i).updateNodesByForces(e.data);self.postMessage(t)}}]);\n//# sourceMappingURL=8f6c0439b7428015f08a.worker.js.map',r.p+"8f6c0439b7428015f08a.worker.js")}},3:function(t,r){t.exports=e},410:function(e,t,r){var i=r(3).Util,n=function(){function e(e){i.mix(!0,this,{clickType:"in"},e),this.createMenu()}var t=e.prototype;return t.show=function(e,t,r){this.menu.style.display="block",this.menu.style.left=t+"px",this.menu.style.top=r+"px",this.node=e},t.hide=function(){this.menu.style.display="none"},t.createMenu=function(){var e=this,t=this.graph,r=this.menuCfg,n=i.createDOM('<ul class="menu" style = "\n      position: absolute;\n      display: none;"></ul>');t.getGraphContainer().appendChild(n),this.menu=n;for(var o=r.lists,s=function(t){var r='<li class = "menu_li">'+o[t].html+"</li>",s=i.createDOM(r);n.appendChild(s),s.on("click",function(){var r=e.getNode();i.isString(o[t].callBack)&&e[o[t].callBack](r),i.isFunction(o[t].callBack)&&o[t].callBack(r),e.hide()})},a=0;a<o.length;a+=1)s(a);this.menu=n,this.hide()},t.getNode=function(){return this.node},t.showSource=function(e){this._showEdge("in",1,[e])},t.showTargets=function(e){this._showEdge("out",1,[e])},t.showAll=function(e){this._showEdge("bi",1,[e])},t._showEdge=function(e,t,r){var n=this.graph,o=i.extract(e,r),s=o.reNodes,a=o.reEdges;n.highlightSubgraph(s.concat(a)),a.forEach(function(e){var t=n.find(e.id);t.isVisible()||t.getModel().isTreeEdge||(t.show(),n.simpleUpdate(t))}),this.hide()},t.destroy=function(){this.menu.destroy()},e}();e.exports=n},411:function(e,t,r){function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(3),s=r(124),a=r(125),u=o.Util,d=r(410);r(123),r(122),r(121),r(120),r(126),r(127),r(119);var h=function(){function e(e){e=e||{},u.mix(!0,this,{menuCfg:{lists:[{html:"来源",callBack:"showSource"},{html:"去向",callBack:"showTargets"},{html:"来源去向",callBack:"showAll"}]},layoutCfg:{kr:0,kg:0,prevOverlapping:!0,maxIteration:0,barnesHut:!1,useWorker:!0},fisheye:!0,menu:null,edgeStyle:{stroke:"#4F7DAB",strokeOpacity:.65,endArrow:!0},activedEdgeStyle:{stroke:"#4C7295",strokeOpacity:1},nodeStyle:{stroke:"#696969",strokeOpacity:.4,shadowColor:null},activedNodeStyle:{stroke:"#fff",shadowColor:"#6a80aa",shadowBlur:20},node_label:function(e){return{text:e.id,fill:"black",stroke:"#fff",lineWidth:2.5}},interactive:!0,textDisplay:!0},e)}var t=e.prototype;return t.init=function(){var e=this,t=this.graph;if(this.fisheye){var r=new o.Plugins["tool.fisheye"]({radius:100});t.addPlugin(r)}if(this.textDisplay){var n=new o.Plugins["tool.textDisplay"];this.interactive&&t.addPlugin(n)}var u=new o.Plugins["tool.freezeSize"];t.addPlugin(u),t.on("afteritemdraw",function(e){var t=e.item.getLabel();t&&t.set("freezePoint",{x:0,y:0})}),t.on("afterinit",function(){var r=new o.Plugins["tool.highlightSubgraph"];e.interactive&&t.addPlugin(r)}),t.on("beforeinit",function(){var r=t.get("layout");if(!r){var i=e.layoutCfg,n=i.kr,o=i.kg,s=i.prevOverlapping,u=i.maxIteration,d=i.barnesHut,h=i.useWorker;r={auto:"once",processer:new a({kr:n,kg:o,prevOverlapping:s,maxIteration:u,barnesHut:d,useWorker:h})},t.set("layout",r)}e.graph.activeItem=function(t){e.activeItem(t)}}),t.on("beforerender",function(){var r=t.getSource(),n=r.nodes,o=r.edges;n=n.map(function(e,t){return i({},e,{index:t})}),o=o.map(function(e,t){return i({},e,{index:t})}),s({nodes:n,edges:o}).edges.forEach(function(e){var t=e.index;r.edges[t].isTreeEdge=!0}),t.addFilter(function(e){return!e.isEdge||e.getModel().isTreeEdge}),e.setStyle(),e.interactive&&e.setListener();var a=e.menuCfg;null!==a&&(e.menu=new d({menuCfg:a,graph:t}))}),t.on("afterdestroy",function(){e.menu.destroy()})},t.setStyle=function(){for(var e=this,t=this.graph,r=t.getSource().edges,i=0;i<r.length;i+=1){var n=r[i];n.isTreeEdge&&void 0!==n.isTreeEdge||(n.shape="quadraticCurve")}t.edge({style:function(t){return t.actived?e.activedEdgeStyle:u.isFunction(e.edgeStyle)?e.edgeStyle(t):e.edgeStyle}}),t.node({label:this.node_label,style:this.nodeStyle})},t.activeItem=function(e){var t=this.graph;(e=t.getItem(e)).isNode?(e.getKeyShape().attr(this.activedNodeStyle),t.draw()):e.isEdge&&t.simpleUpdate(e,{actived:!0})},t.unActiveItem=function(e){var t=this.graph;(e=t.getItem(e)).isNode?(e.getKeyShape().attr(this.nodeStyle),t.draw()):e.isEdge&&t.simpleUpdate(e,{actived:!1})},t.setListener=function(){var e=this,t=this.graph;t.on("node:mouseenter",function(r){e.activeItem(r.item),r.item.isNode&&t.css({cursor:"pointer"})}),t.on("edge:mouseenter",function(t){e.activeItem(t.item)}),t.on("node:mouseleave",function(r){e.unActiveItem(r.item),!r.toShape&&t.css({cursor:"-webkit-grab"})}),t.on("edge:mouseleave",function(r){e.unActiveItem(r.item),!r.toShape&&t.css({cursor:"-webkit-grab"})}),t.on("click",function(r){var i=r.shape,n=r.item;if(null!==e.menuCfg)if(i&&n.isNode){var o=n.getModel().x*t.getMatrix()[0]+t.getMatrix()[6],s=n.getModel().y*t.getMatrix()[0]+t.getMatrix()[7];e.menu.show(n,o,s),t.draw()}else{e.menu.hide(),t.unhighlightGraph();var a=t.getEdges();u.each(a,function(e){e.isVisible()&&!e.getModel().isTreeEdge&&e.hide()}),t.draw()}})},e}();o.Plugins["template.maxSpanningForest"]=h,e.exports=h}})});
//# sourceMappingURL=plugin.template.maxSpanningForest.js.map