"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isDumiAssets = void 0;

function _react() {
  const data = _interopRequireDefault(require("react"));

  _react = function _react() {
    return data;
  };

  return data;
}

function _joi() {
  const data = _interopRequireDefault(require("@hapi/joi"));

  _joi = function _joi() {
    return data;
  };

  return data;
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * validate assets schema
 */

/**
 * judge whether dumi assets
 * @param value
 */
const isDumiAssets = value => {
  try {
    if (typeof value === 'string') {
      value = JSON.parse(value);
    }

    const schema = _joi().default.object({
      assets: _joi().default.object({
        examples: _joi().default.array().items(_joi().default.object()).min(1).required()
      }).required()
    }).unknown();

    const _schema$validate = schema.validate(value),
          error = _schema$validate.error;

    if (error) {
      return false;
    }

    return true;
  } catch (e) {
    return false;
  }
};

exports.isDumiAssets = isDumiAssets;